pipelines:
  - name: example_http_to_postgres
    enabled: true
    schedule: "0 */6 * * *"
    connector:
      type: http
      config:
        url: https://api.example.com/v1/data
        method: GET
        headers:
          Accept: application/json
        timeout: 30
    transformer:
      type: json_normalizer
      config:
        flatten: true
        timestamp_field: created_at
    sinks:
      - type: postgres
        config:
          table: raw_api_data
          schema: public
          mode: append
      - type: file
        config:
          path: data/output
          format: parquet

  - name: example_rest_to_duckdb
    enabled: false
    connector:
      type: rest
      config:
        base_url: https://jsonplaceholder.typicode.com
        endpoint: /posts
    transformer:
      type: json_normalizer
    sinks:
      - type: duckdb
        config:
          database: data/local.duckdb
          table: posts
